<div class="imageSpinner" *ngIf="dataLoaded == false">
  <p-image
    src="assets/images/bupa-acıbadem-sigorta.png"
    alt="Image"
    width="250"
  ></p-image>
  <p-progressSpinner
    [style]="{ width: '50px', height: '50px' }"
    styleClass="custom-spinner"
    strokeWidth="8"
    fill="var(--surface-ground)"
    animationDuration=".5s"
  ></p-progressSpinner>
</div>

<div class="card" *ngIf="dataLoaded != false" style="width: 100rem">
  <div class="mb-3">
    <p-button
      type="button"
      icon="pi pi-chevron-left"
      (click)="prev()"
      [disabled]="isFirstPage()"
      styleClass="p-button-text"
    ></p-button>
    <p-button
      type="button"
      icon="pi pi-refresh"
      (click)="reset()"
      styleClass="p-button-text"
    ></p-button>
    <p-button
      type="button"
      icon="pi pi-chevron-right"
      (click)="next()"
      [disabled]="isLastPage()"
      styleClass="p-button-text"
    ></p-button>
  </div>
  <p-table
    [columns]="cols"
    [value]="insuredPersons"
    [paginator]="true"
    [rows]="rows"
    [showCurrentPageReport]="true"
    [(first)]="first"
    styleClass="p-datatable-striped"
    responsiveLayout="stack"
    currentPageReportTemplate="Toplam {totalRecords} kayıt içerisinden {first} ve {last} arası gösteriliyor"
    [rowsPerPageOptions]="[10, 15, 20]"
  >
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{ col.header }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        <td *ngFor="let col of columns">
          {{ rowData[col.field] }}
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
